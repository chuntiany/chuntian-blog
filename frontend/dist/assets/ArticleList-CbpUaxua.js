import{_ as v,r as u,o as k,c as s,a as t,F as A,h as g,i as d,p as m,k as o,t as a}from"./index-Du8VEhpS.js";const C={key:0},D=["onClick"],b=["onClick"],L={key:1},w={__name:"ArticleList",setup(x){const r=u([]),i=u(!0),c=m(),h=async()=>{try{const e=await d.get("/api/articles?per_page=100");r.value=e.data.articles}catch(e){console.error("Failed to fetch articles",e)}finally{i.value=!1}},_=async e=>{if(confirm("Are you sure?"))try{await d.delete(`/api/articles/${e}`),r.value=r.value.filter(n=>n.id!==e)}catch(n){console.error("Failed to delete article",n)}},p=e=>{c.push(`/admin/articles/edit/${e}`)},y=()=>{c.push("/admin/articles/create")};return k(h),(e,n)=>(o(),s("div",null,[t("div",{class:"header"},[n[0]||(n[0]=t("h1",null,"Articles",-1)),t("button",{onClick:y},"New Article")]),i.value?(o(),s("div",L,"Loading...")):(o(),s("table",C,[n[1]||(n[1]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Title"),t("th",null,"Author"),t("th",null,"Category"),t("th",null,"Status"),t("th",null,"Date"),t("th",null,"Actions")])],-1)),t("tbody",null,[(o(!0),s(A,null,g(r.value,l=>(o(),s("tr",{key:l.id},[t("td",null,a(l.id),1),t("td",null,a(l.title),1),t("td",null,a(l.author),1),t("td",null,a(l.category||"-"),1),t("td",null,a(l.status),1),t("td",null,a(new Date(l.created_at).toLocaleDateString()),1),t("td",null,[t("button",{onClick:f=>p(l.id)},"Edit",8,D),t("button",{onClick:f=>_(l.id),class:"danger"},"Delete",8,b)])]))),128))])]))]))}},$=v(w,[["__scopeId","data-v-7a18c1a2"]]);export{$ as default};
